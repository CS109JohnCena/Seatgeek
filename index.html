<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Seatgeek.GitHub.io by CS109JohnCena</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Seatgeek.GitHub.io</h1>
      <h2 class="project-tagline">NBA 3rd party ticket price prediction</h2>
      <a href="https://github.com/CS109JohnCena/Seatgeek" class="btn">View on GitHub</a>
      <a href="https://github.com/CS109JohnCena/Seatgeek/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/CS109JohnCena/Seatgeek/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h3>
<a id="team-members" class="anchor" href="#team-members" aria-hidden="true"><span class="octicon octicon-link"></span></a>Team Members:</h3>

<p>Bryan Baek, Walker Evans, Takehiro Matsuzawa</p>

<h3>
<a id="data-sources" class="anchor" href="#data-sources" aria-hidden="true"><span class="octicon octicon-link"></span></a>Data Sources:</h3>

<ul>
<li>SeatGeek's API NBA ticket data </li>
<li>ESPN NBA daily team standings data </li>
<li>ESPN NBA attendance data </li>
<li>ESPN NBA top salary </li>
<li>Wikipedia number of professional teams in US cities</li>
</ul>

<p align="center">
<a href="https://www.youtube.com/watch?v=2G2w77jrayw" target="_blank"> 
<img src="http://img.youtube.com/vi/2G2w77jrayw/0.jpg" alt="Screencast" width="400" height="300" align="middle" border="10"></a>
</p>

<h3>
<a id="project-overview" class="anchor" href="#project-overview" aria-hidden="true"><span class="octicon octicon-link"></span></a>Project Overview:</h3>

<p>The ticket themselves are priced based on unknown demand, so the tickets are very volatile. Thus, there is a deadweight loss associated with the trade of ticket prices. We see this happen a lot on third-party ticket website like Stubhub or SeatGeek.</p>

<p>With this project, we attempted to gather and explore the ticket prices posted on Seatgeek.com and their relationship to NBA data. SeatGeek is 3rd party website for tickets - users are able to buy/sell tickets for any sports/concerts.</p>

<p>Thus, we wanted to look at how different factors affect the ticket pricing.</p>

<ul>
<li>What factors affect the ticket price at a given moment?</li>
<li>Using today's information, can we predict the ticket price a week from now?</li>
</ul>

<p>These are the questions we attempted to answer through our data science process, using some familiar algorithms (eg. ridge, lasso regression, elastic net) in an effort to predict the ticket price change. Due to the limit of the API, we were forced to predict the "lowest good deal price": lowest ticket price for a seat SeatGeek determines a "good deal". The average metric could be skewed by a very expensive courtside ticket, and the cheapest ticket could might offer a very disappointing view of the game.</p>

<h3>
<a id="motivation" class="anchor" href="#motivation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Motivation:</h3>

<p>Event tickets are interesting to study among other commodities. First, it loses its value after the time of the event has passed. Next, many different factors affect its price. The demand can be influenced by many different factors such as number of top stars or the team's winning percentage. In addition, one would treat a basketball ticket differently on when the team plays. 
If you were no longer able to make the concert/sports game due to an exam, work, or illness, how would you determine at what price to sell? Is the buyer committed to buy at that price? Thus, we found this problem to interesting to study and wanted to dive deep into the process work to study this phenomenon. </p>

<h3>
<a id="data-cleaning" class="anchor" href="#data-cleaning" aria-hidden="true"><span class="octicon octicon-link"></span></a>Data Cleaning</h3>

<p>We collected those information and extensively cleaned the data to merge them into one big data frame based on keys. We were able to collect data of more than 7 days. There are about 6000 different ticket information available. </p>

<h3>
<a id="initial-data-exploration" class="anchor" href="#initial-data-exploration" aria-hidden="true"><span class="octicon octicon-link"></span></a>Initial Data Exploration</h3>

<p>We were initially very curious to see explore the following visualizations and questions:</p>

<ul>
<li>How do lowest_price_good change over time?</li>
<li>How does the price of tickets change in relative to the Team's NBA Ranking/Winning Percentage?</li>
<li>How do different factors (sports rating, attendance, salary, other ticket info) affect the ticket price?</li>
</ul>

<p>We wanted to see how individual factors might affect the lowest "good deal" ticket price over time. We looked at how factors like holidays such as Christmas and New Years (shown by vertical red lines), weekends (red shaded regions), the away team's rank (red) and winning percentage (green) affect the ticket price (blue). </p>

<p><img src="https://7c0a817f-a-ed83d6ea-s-sites.googlegroups.com/a/college.harvard.edu/seatgeekcs109/dataset-1/morning%20chart.png?attachauth=ANoY7coLW-cG_epyvftyre4F8lubbNjrRTtCYQnKhhbhAb2sEnEJboGfgBn4-7n_Vz7McNqS0tuCWu3AZsK6hTCykLRBBVZ6dy9pBH3GF-InE_DDPuXHIrtyNkKvgRQMwwfyGSV6G7IYf24hiczKxUuOkcKwx_qOjz3vvItHUHWnVaoMHIM35imogYeru5CmHbqrrIhkaxs1ZarvVV4THr5U2sOG0SX5z1A7tSba3BSOVzgAaVL08os%3D&amp;attredirects=0" alt="alt text" title="Per Team Analysis"></p>

<p>The effect of holidays (i.e. Christmas) and weekend is accented for a high performing team like the Warriors. Also, the effect of star players is shown, for example, in Lakers: people want to see Kobe Bryant, a NBA legend, play before he retires this season. So, the end of the season sees a huge spike in ticket price. Finally, when you look at Portland Trail Blazers, you see that rank and ticket price are highly correlated before Jan 30. Then, the ticket prices and <strong>winning percentage</strong> are highly correlated. We applied similar techniques to determine which factors were relevant to the model and which relationship is best appropriate to represent them in the model. </p>

<h3>
<a id="method" class="anchor" href="#method" aria-hidden="true"><span class="octicon octicon-link"></span></a>Method</h3>

<h5>
<a id="todays-price" class="anchor" href="#todays-price" aria-hidden="true"><span class="octicon octicon-link"></span></a>Today's Price</h5>

<p>We tested our prediction with 4 different models (OLS, Ridge, Lasso, and Elastic Net) on 3 different combinations of parameters. We ran cross-validation to determine Lasso with only the relevant parameters produced the highest accuracy. We look at MSEs(Mean Squared Errors) and MADs(Mean Absolute Derivations) between predicted and actual ticket prices to determine determine the performance of the model.</p>

<p><img src="https://lh3.googleusercontent.com/doiPFH_2PJDCXsalh94L0xNHgWPrHLPJYFg2bGN7Jiu1jUBdZVyxskQdwscbFf42wYSHujFfY1V3QZO6p9KBnbn5Gj84o0YTEuymTHsEEh0bgyoha_PhND7IlIDp7s1tntFpgMAJ" alt="alt text" title="Today MSE"></p>

<p>The lasso regression with intuitive explanatory variables is the best model to predict the price because it has the smallest MSE.</p>

<p><img src="https://lh5.googleusercontent.com/bbLkzyImlgt6iUZX7FyNmgjqkrYdbdVw3j82lWWSPya0OsvFmHhakkBZK_xrzLpJcIABoNNe9NY_FBIDhqIF-aumGPnbNfrdv7lfYKDVd9NcQaoxOvtUY1LSrT1OVcbul9mWf6TH" alt="alt text" title="Today MAD"></p>

<p>The lasso regression with intuitive explanatory variables is the best model to predict the price because it has the smallest MAD.</p>

<p>We then validated the Best Predictive Model on the Validation Set to Determine Unbiased Prediction Error.</p>

<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">Best Model Accuracy</th>
<th align="center">Baseline Accuracy</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">RMSE</td>
<td align="center">7.31</td>
<td align="center">10.41</td>
</tr>
<tr>
<td align="center">MAD</td>
<td align="center">3.80</td>
<td align="center">3.94</td>
</tr>
</tbody>
</table>

<p>The improvement with our model is shown in the decrease in RMSE.</p>

<h4>
<a id="next-weeks-price" class="anchor" href="#next-weeks-price" aria-hidden="true"><span class="octicon octicon-link"></span></a>Next Week's Price</h4>

<p>A week is long enough for a ticket to significantly change in price. We are comparing the data from 11/29/2015 and 12/06/2015. We regress the price in a week on various predictors, similar to the step above. </p>

<p><img src="https://lh4.googleusercontent.com/lANRB175XI5a0u7xJZKBqZ7LL15yn9VN-CRB67xlQEEi5Wp17WaJbYbMMY_aW_K2k1TWIeaT0fYOAfHqbuZjwnAhbJ7IKzYbNqpZ89pF2RTrbq3G0kSC5TMuNp-NVEKxoGBZtamF" alt="alt text" title="Next Week MSE"></p>

<p><img src="https://lh6.googleusercontent.com/w1TmDypc59vC7l89-qseDhAdBh9zTSl6eeNBglhnS_W2zOgN9m_hCNXQLTBlB3AhYxvtXCGxZQadeE5OdZMqSFjzrGH_7JSCAMq7YpzGhwJ7gqM_TvuA1BmtawausP69vFjaqocY" alt="alt text" title="Next Week MAD"></p>

<p>The Elastic Net and Lasso Regression with intuitive explanatory variables perform very well. We decided to use both of them to determine the true prediction accuracy. 
We then validated the Best Predictive Model on the Validation Set to Determine Unbiased Prediction Error.</p>

<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">Elastic Net Accuracy</th>
<th align="center">Lasso Accuracy</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">RMSE</td>
<td align="center">13.49</td>
<td align="center">13.46</td>
</tr>
<tr>
<td align="center">MAD</td>
<td align="center">7.56</td>
<td align="center">7.56</td>
</tr>
</tbody>
</table>

<h3>
<a id="analysis" class="anchor" href="#analysis" aria-hidden="true"><span class="octicon octicon-link"></span></a>Analysis</h3>

<p>Lasso regression with intuitive explanatory variables proved to be best predicting today's ticket price with today's given information. We wanted to take this model one step further. By changing the "Days Away" variable, we could predict how the ticket price will change if the game is X days away. </p>

<p>First, we modeled 15 random games:
<img src="https://7c0a817f-a-ed83d6ea-s-sites.googlegroups.com/a/college.harvard.edu/seatgeekcs109/performance/download.png?attachauth=ANoY7cowo0XCIgL22VjpBH3_sJt-fMmo7RTRsXOcaDpu7HW5D8kjgbhwxWxnkWm3MVW9q67eFLgNuhyPQg5lIuxrT4-RIeFYML3CM2RLynqfZnqB4hX5e8hs17xw9TiMZWkAzvARNbRJriKOIx76fUE_0OR2phUCiN5V7hyhC47o2TdtH7m3P6LcXtOk-YJIfcNe7rMmThMYE2GHS_BKjQ7G6rX-Kg6vaqEretcRWD5LsWUr0CVlCBc%3D&amp;attredirects=0" alt="alt text" title="15 random teams"></p>

<p>Next, we modeled the current worst performing team in the NBA (76ers)'s 15 games:
<img src="https://7c0a817f-a-ed83d6ea-s-sites.googlegroups.com/a/college.harvard.edu/seatgeekcs109/performance/download%20%285%29.png?attachauth=ANoY7cpatkfMiWChH47S_B-os6DEaSF-_qrpwZsyJtZTdp8f_5Gb1twYgB1ORMf0CAAOKb87t9nPQt0vCkt9rm3gwnDvv23HztmFSlSuBzORbHk1G07guUVxstkZmlCozNGicDGbbcLpMiSzKumX7Z693OVSQX84nfEP5KEoqvnfH5kTc9_xkv0StqqeVvheUWM4Ni3HaoBrM1ZoLnL--s51iCcWhbDEdrSh-dDfgjXafoiUS2FKjTzGP9bNldZoPhk99MMquweP&amp;attredirects=0" alt="alt text" title="Worst Team"></p>

<p>Next, we modeled the current best performing team in the NBA (Warriors)'s 15 games:
 <img src="https://sites.google.com/a/college.harvard.edu/seatgeekcs109/_/rsrc/1449719067487/performance/download%20%284%29.png" alt="alt text" title="Best Team"></p>

<p>Finally, we compared MAD across lasso regression predicting today and next week's ticket price against the baseline. The lasso regression predicting next week's price was slightly better than the baseline model. 
 <img src="https://sites.google.com/a/college.harvard.edu/seatgeekcs109/_/rsrc/1449718149426/performance/download%20%281%29.png" alt="alt text" title="Days Away Predictions"></p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/CS109JohnCena/Seatgeek">Seatgeek.GitHub.io</a> is maintained by <a href="https://github.com/CS109JohnCena">CS109JohnCena</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
