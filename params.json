{"name":"Seatgeek.GitHub.io","tagline":"NBA 3rd party ticket price prediction","body":"### Team Members:\r\nBryan Baek, Walker Evans, Takehiro Matsuzawa\r\n\r\n### Data Sources:\r\n* SeatGeek's API NBA ticket data \r\n* ESPN NBA daily team standings data \r\n* ESPN NBA attendance data \r\n* ESPN NBA top salary \r\n* Wikipedia number of professional teams in US cities\r\n\r\n<p align=\"center\">\r\n<a href=\"https://www.youtube.com/watch?v=olC77WZ-BV0\" target=\"_blank\"> \r\n<img src=\"http://img.youtube.com/vi/olC77WZ-BV0/0.jpg\" \r\nalt=\"Screencast\" width=\"400\" height=\"300\" align=\"middle\" border=\"10\" /></a>\r\n</p>\r\n\r\n### Project Overview:\r\n\r\nThe tickets themselves are priced based on unknown demand, so the prices are very volatile. Thus, there is a deadweight loss associated with the trade of ticket prices. We see this happen a lot on third-party ticket website like Stubhub or SeatGeek.\r\n\r\nWith this project, we attempted to gather and explore the ticket prices posted on Seatgeek.com and their relationship to NBA data. SeatGeek is 3rd party website for tickets - users are able to buy/sell tickets for any sports/concerts.\r\n\r\nThus, we wanted to look at how different factors affect the ticket pricing.\r\n* What factors affect the ticket price at a given moment?\r\n* Using today's information, can we predict the ticket price a week from now?\r\n* Using today’s information, can we predict the ticket price more than a week from now?\r\n\r\nThese are the questions we attempted to answer through our data science process, using some familiar algorithms (eg. OLS, ridge, lasso regression, elastic net) in an effort to predict the ticket price change. Due to the limitations of the API, we were forced to predict the \"lowest good deal price\": lowest ticket price for a seat SeatGeek determines a \"good deal\". The average metric could be skewed by a very expensive courtside ticket, and the cheapest ticket without factoring in whether or not it’s a good deal could might be skewed downwards by very bad tickets, such as those with no view.\r\n\r\n### Motivation:\r\n\r\nEvent tickets are interesting to study among other commodities. First, tickets lose their value after the time of the event has passed. Next, many different factors affect their prices. The demand can be influenced by many different factors such as number of top stars or the team's winning percentage. In addition, one would treat basketball tickets differently on when the games are. If you were no longer able to make the concert/sports game due to an exam, work, or illness, how would you determine at what price to sell? If you’d like to go to a game for a cheap price, when should you buy the ticket? Thus, we found this problem to interesting to study and wanted to dive deep into the process work to study this phenomenon.\r\n\r\n### Data Cleaning\r\n\r\nWe collected the information above and extensively cleaned the data to merge it into one big data frame based on game IDs. Our final analyses used information from 2 different days that were one week apart.\r\n\r\n### Initial Data Exploration\r\n\r\nWe were initially very curious to see explore the following visualizations and questions:\r\n* How does lowest_price_good change over time?\r\n* How does the price of tickets change in relative to the Team's NBA Ranking/Winning Percentage?\r\n* How do different factors (sports rating, attendance, salary, other ticket info) affect the ticket price?\r\n \r\nWe wanted to see how individual factors might affect the lowest \"good deal\" ticket price over time. We looked at how factors like holidays such as Christmas and New Years (shown by vertical red lines), weekends (red shaded regions), the away team's rank (red) and winning percentage (green) affect the ticket price (blue). \r\n\r\n![alt text](/Images/graph1.png \"Per Team Analysis\")\r\n\r\nThe effect of holidays (i.e. Christmas) and weekend is accented for a high performing team like the Warriors. Also, the effect of star players is shown, for example, in Lakers: people want to see Kobe Bryant, a NBA legend, play before he retires this season. So, the end of the season sees a huge spike in ticket price. Finally, when you look at Portland Trail Blazers, you see that rank and ticket price are highly correlated before Jan 30. Therefore, the ticket prices and **winning percentage** are highly correlated. We applied similar techniques to determine which factors were relevant to the model and which relationship is best appropriate to represent them in the model. \r\n\r\n### Method and Analysis\r\n\r\n#### Model for Next Week's Price\r\nA week is long enough for a ticket to significantly change in price. We are comparing the data from 11/29/2015 and 12/06/2015. We regress the price in a week on various predictors.\r\n\r\nWe tested our prediction with 4 different models (OLS, Ridge, Lasso, and Elastic Net) on 3 different combinations of parameters. We ran a cross-validation to determine Lasso with only the relevant parameters produced the highest accuracy. We look at MSEs (Mean Squared Errors) and MADs (Mean Absolute Derivations) between predicted and actual ticket prices to determine the performance of the model.\r\n\r\n![alt text](https://photos-6.dropbox.com/t/2/AAC-CjhPP24QkE35-EvVHlkuHT2vIoeywAjI9uovj2cL8A/12/113402027/png/32x32/3/1449813600/0/2/graph2.png/EOnwxlcYvuoBIAIoAg/WEBohbXfwnu63eOzP5-Ei4xARORsGS7VER6iexUIVOs?size_mode=3&size=1024x768 \"Next MSE\")\r\n\r\nThe lasso regression with intuitive explanatory variables is the best of these models to predict the price because it has the smallest MSE.\r\n\r\n![alt text](https://photos-3.dropbox.com/t/2/AAAixhpSrFHZ4M9IDtSxnhMuTuC9VqaPtxz7uFiSBFI57g/12/113402027/png/32x32/3/1449813600/0/2/graph3.png/EOnwxlcYvuoBIAIoAg/ofLSNeJyF4928LP745Pa9GLz4uZV7mLTM7UJibrk588?size_mode=3&size=1024x768 \"Next MAD\")\r\n\r\nThe lasso regression with intuitive explanatory variables is the best of these models to predict the price because it has the smallest MAD.\r\nWe then test the Best Predictive Model on the Test Set to Determine Unbiased Prediction Error.\r\n\r\n|  \t| Best Model Accuracy \t| Baseline Accuracy \t|\r\n|:----:\t|:-------------------:\t|:-----------------:\t|\r\n| RMSE \t| 7.31 \t| 10.41 \t|\r\n| MAD \t| 3.80 \t| 3.94 \t|\r\n\r\nThe improvement with our model is shown in the decrease in RMSE.\r\n\r\n\r\n##### Model for Today's Price\r\nNext, we ran a regression on today’s price with the intention of using that for future predictions in a unique way.\r\n\r\n![alt text](https://photos-5.dropbox.com/t/2/AACR9MWPw7Fr-1rx00fnRc47lcyRJtkFA3KMzkp7tqrBhA/12/113402027/png/32x32/3/1449813600/0/2/graph4.png/EOnwxlcYvuoBIAIoAg/hCDaNKA7KIc187OfqDJbvn3fkjEFik5rnWCPxfK3Ccs?size_mode=3&size=1024x768 \"Today MAD\")\r\n\r\n![alt text](https://photos-6.dropbox.com/t/2/AAArzg-1AmigggkMbHt3vS3a8fLeuJ_ci55fjhksoP06pQ/12/113402027/png/32x32/3/1449813600/0/2/graph5.png/EOnwxlcYvuoBIAIoAg/Nf9QCI4h2qIHptOAgwHOD0Fi_wsGRowcIC-cl1T2kp0?size_mode=3&size=1024x768 \"Next Week MSE\")\r\n\r\n\r\nThe Elastic Net and Lasso Regression with intuitive explanatory variables perform best. We decided to use both of them to determine the true prediction accuracy. \r\n\r\nWe then tested the Best Predictive Model on the Test Set to Determine Unbiased Prediction Error.\r\n\r\n|  \t| Elastic Net Accuracy  \t| Lasso Accuracy \t|\r\n|:----:\t|:-------------------:\t|:-----------------:\t|\r\n| RMSE \t| 13.49 \t| 13.46 \t|\r\n| MAD \t| 7.56 \t| 7.56 \t|\r\n\r\n\r\n#### Using Model of Today’s Price to Predict Future Prices\r\n\r\nLasso regression with intuitive explanatory variables proved to be best predicting today's ticket price with today's given information. We wanted to take this model one step further. By changing the \"Days Away\" variable and assuming that all other factors about each game remained constant, we could predict how the ticket price will change if the game is X days away. This allows us to use only one day’s worth of data to make forecasts over any time horizon.\r\n\r\nFirst, we modeled price over number of days away from game day for 15 random games: \r\n\r\n![alt text](https://photos-1.dropbox.com/t/2/AABEVjpCHYCXADztIR4tLVH1XHZH_BDBNMTIAptM5rLV3g/12/113402027/png/32x32/3/1449813600/0/2/graph6.png/EOnwxlcYvuoBIAIoAg/n0LO38YdS8tpe7nTSDRJrio9B4T0VKwgQ1ccwqz1tFY?size_mode=3&size=1024x768 \"Next Week MAD\")\r\n\r\nNext, we modeled the price over number of days away from game day for the current worst performing team in the NBA (76ers)'s 15 games: \r\n\r\n![alt text](https://photos-1.dropbox.com/t/2/AACkw5IXfBHT7p37OMQLfNrsm2dqvz9mRpCimOuMN4MFvg/12/113402027/png/32x32/3/1449813600/0/2/graph7.png/EOnwxlcYvuoBIAIoAg/8zfFVNiMfWwrfbB7Ln_rfVbaDocrT6Bm6dM2sfT3FT4?size_mode=3&size=1024x768  \"15 random teams\")\r\n\r\n \r\nNext, we modeled the price over number of days away from game day for the current best performing team in the NBA (Warriors)'s 15 games: \r\n\r\n ![alt text](https://photos-3.dropbox.com/t/2/AACRWEbqaVFTibFKWl06h7GWdLip4EmyIT9YvbXmTYZRWQ/12/113402027/png/32x32/3/1449813600/0/2/graph8.png/EOnwxlcYvuoBIAIoAg/5XuTo-isBSS2asTAXAvhXMr5LjG7WqP7eaTTMdlvWM0?size_mode=3&size=1024x768  \"Best Team\")\r\n \r\nFinally, we compared the use of the model of today’s price for prediction (“LassoTodayModel”) and the model of next week's ticket price (“LassoWeekModel”) against a baseline (“Baseline”) of using today’s price as a forecast. Only the lasso regression for next week's price was slightly better than the baseline model, but using the lasso regression for today’s for prediction is still useful – it can be used to make forecasts over any time horizon. \r\n\r\n ![alt text](https://photos-2.dropbox.com/t/2/AADb5nr4snNG_gtNgWvNDMkSQFybuCrYf7zGaZ4DQgLC7w/12/113402027/png/32x32/3/1449813600/0/2/graph9.png/EOnwxlcYvuoBIAIoAg/xOG-4L_UjyWGy4CAMUvZeFwwQI0YB892fohbpnJfzkY?size_mode=3&size=1024x768  \"Days Away Predictions\")","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}